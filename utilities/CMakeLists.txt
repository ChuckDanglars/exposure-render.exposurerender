MESSAGE(STATUS "Creating utilities project")

MESSAGE(STATUS "Finding qt package")
FIND_PACKAGE(QT4 REQUIRED)
SET(QT_USE_QTNETWORK TRUE)
SET(QT_USE_QTOPENGL TRUE)
SET(QT_USE_QTXML TRUE)
FIND_PACKAGE(OPENGL REQUIRED)
INCLUDE(${QT_USE_FILE})
ADD_DEFINITIONS(${QT_DEFINITIONS})
ADD_DEFINITIONS(-DQT_GUI_LIBS -DQT_CORE_LIB -DQT_XML_LIB -DQT3_SUPPORT)

FILE(GLOB_RECURSE UtilitiesSources "*.h" "*.cpp")
FILE(GLOB_RECURSE UtilitiesHeaders "*.h")

QT4_WRAP_CPP(UtilitiesHeadersMoc ${UtilitiesHeaders})
ADD_LIBRARY(Utilities  ${UtilitiesSources} ${UtilitiesHeadersMoc})
TARGET_LINK_LIBRARIES(Utilities GpuJpeg ${QT_LIBRARIES})

INSTALL_TARGETS(/bin Utilities)